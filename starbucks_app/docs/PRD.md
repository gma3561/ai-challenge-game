# PRD — 그린빈 커피 PWA (데모)

문서 버전: v1.0 (초안)
작성일: 2025-09-30

## 1) 개요
- 목적: 스타벅스 스타일의 커피 주문 경험을 데모용 PWA로 구현한다.
- 목표: 단일 매장 픽업, 게스트 주문, 모의 결제로 끝까지 체험 가능한 흐름 제공.
- 차별점(데모 관점): 설치형 웹앱(PWA), 매우 빠른 주문 플로우, 옵션/가격 계산 명확성.

## 2) 범위(Scope)
- In-scope
  - 홈, 메뉴 목록/상세, 옵션 선택, 장바구니, 모의 결제, 주문 완료 화면
  - 가격 및 간단 배지(카페인/알레르겐) 표시
  - PWA 매니페스트, 모바일 최적화 레이아웃
  - 로컬 저장(최근 장바구니 유지)
- Out-of-scope(향후)
  - 다매장, 드라이브스루/배달, 실결제, 로그인/리워드, 실시간 제조상태

## 3) 사용자와 핵심 시나리오
- 페르소나: 매장 근처 사용자(학생/직장인) — 빠르게 메뉴를 선택해 픽업만 하는 사용자
- 시나리오: 앱을 열고 → 메뉴 선택 → 옵션 지정 → 장바구니 확인 → 모의 결제 → 주문번호 확인 → 카운터에서 이름 확인 후 수령

## 4) 기능 요구사항(화면/AC)
1. 홈
   - 매장명/영업시간 간단 안내, 대표 메뉴 3종 노출
   - [AC] 대표 메뉴 클릭 시 메뉴 상세로 이동
2. 메뉴 목록
   - 카테고리 탭(커피/티/프라푸치노), 카드형 리스트, 가격 표시
   - [AC] 리스트 스크롤, 카테고리 필터 정상 동작
3. 메뉴 상세/옵션
   - 옵션: 사이즈, 온도(해당 시), 샷, 우유, 시럽, 얼음, 당도(해당 시)
   - [AC] 필수 옵션(예: 사이즈) 미선택 시 장바구니 추가 불가
   - [AC] 옵션 가격이 실시간 합계에 반영
4. 장바구니
   - 항목/옵션/단가/합계, 항목 수정·삭제
   - [AC] 수량 변경 시 합계 즉시 반영
5. 결제(모의)
   - 입력: 주문자 이름, 카드번호·유효기간·CVC
   - 판정: 성공 카드(4242…), 실패 카드(4000…)
   - [AC] 성공 시 주문 완료 화면 이동, 실패 시 에러 메시지
6. 주문 완료
   - 주문번호, 픽업 안내 문구(“카운터에서 이름 확인 후 수령”)
   - [AC] “다시 주문하기”로 홈 이동

## 5) 메뉴/옵션/가격 정책
- 메뉴 규모: 3카테고리 × 각 3종(총 9종) — 샘플은 `data/menu.json` 정의 참고
- 가격(기본): KRW, 부가세 포함
- 옵션 가격 규칙(예시)
  - 사이즈: Tall(+0), Grande(+500), Venti(+1000)
  - 샷 추가: 0~3샷, +500/샷
  - 우유: 일반/저지방(0), 오트/두유(+500)
  - 시럽: 바닐라/카라멜/헤이즐넛(+300), 없음(0)
  - 얼음: 적게/보통/많이(0, Iced 선택 시 노출)
  - 당도: 0/50/100% (티·프라푸치노 대상)
- 배지 표기
  - 카페인 여부, 알레르겐(예: 우유) 간단 표기

## 6) 결제(모의) 정책
- 성공: 카드번호 `4242 4242 4242 4242`
- 실패: 카드번호 `4000 0000 0000 0002`
- 보안/안내: 실제 결제가 아님을 결제 폼 하단에 고지

## 7) 데이터 모델(개요)
- MenuCategory: id, name
- MenuItem: id, categoryId, name, basePrice, badges{caffeine:boolean, allergens:string[]}, image?
- OptionGroup: id, name, type(single|multiple|counter), required, options[] 또는 unitPriceDelta
- CartItem: menuItemId, selectedOptions, quantity, unitPrice, lineTotal
- Order: id, customerName, items[], amount, status(‘paid’ 고정), createdAt

## 8) API (모의) 설계
- GET `/api/menu` → 카테고리, 공통 옵션, 아이템 목록 반환
- POST `/api/orders` → {items[], customerName, amount}를 받아 {orderId} 반환
- GET `/api/orders/:id` → 주문 조회(데모용 고정 응답 가능)
  - 구현: JSON Server 권장. 상세는 `backend/README.md:1` 참고

## 9) 사용자 흐름(요약)
홈 → 메뉴목록 → 메뉴상세(옵션) → 장바구니 → 결제(모의) → 완료

## 10) 비기능 요구사항
- 성능: 기본 이미지 최적화, 초기 번들 최소화(코어 라우트 우선)
- 접근성: 폼 레이블, 대비, 키보드 포커스 준수(WCAG 기본 체크)
- 반응형: 360–430px 모바일 우선, 태블릿 기본 대응
- 브라우저: 최신 모바일 크롬/사파리, iOS/Android PWA 설치 가능

## 11) PWA 요구사항
- `manifest.webmanifest` 구성(이름, 아이콘, theme_color)
- 설치 배너(브라우저 기본), standalone display
- 오프라인: 최소 캐시(루트/정적 에셋). 오프라인 주문 불가 안내

## 12) 측정/로그(선택)
- 최소 이벤트: add_to_cart, begin_checkout, payment_success, payment_failure

## 13) MVP 완료 기준(DoD)
- 6개 화면 흐름이 막힘 없이 동작(옵션/합계/모의 결제)
- 모바일에서 PWA 설치 및 실행 확인
- 데모 카드 패턴 안내 문구 노출

## 14) 리스크/정책
- 상표: 스타벅스 공식 로고/명칭 미사용(그린빈 커피 브랜드 사용)
- 데이터: 영양/알레르겐 표기는 데모용 안내(실제와 다를 수 있음)
- 결제: 실제 결제가 아님 명시

## 15) 오픈 이슈(초기)
- 서비스워커 캐시 정책 구체화(라우트 캐싱 범위)
- 아이콘/스플래시 이미지 확정(브랜드 가이드)
- 프라푸치노 옵션(휘핑 등) 범위 확장 여부
